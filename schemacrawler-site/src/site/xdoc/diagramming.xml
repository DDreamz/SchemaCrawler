<!DOCTYPE document PUBLIC "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<document>
	<properties>
		<title>SchemaCrawler Database Diagramming</title>
		<author email="sualeh@hotmail.com">Sualeh Fatehi</author>
	</properties>
	<body>
		<section name="SchemaCrawler Database Diagramming">
			<subsection name="SchemaCrawler Database Diagramming">
				<p>
					SchemaCrawler generates database diagrams, using
					<a href="http://www.graphviz.org/">Graphviz</a>
					.
					You can filter out tables, views, columns, stored procedure and
					functions based on regular expressions,
					using the
					<a href="faq.html#whats-schemacrawler-grep">grep</a>
					functionality.
				</p>
				<p>SchemaCrawler is unique among database diagramming tools in that
					you do not need to know the
					table names or column names that you are
					interested in. All you need is
					a search expression, in the form of
					a
					regular expression. SchemaCrawler has powerful command-line
					options
					to match tables, and then find other
					related tables, whether they
					are parent or child tables. If your schema
					changes, you can simply
					regenerate the
					diagram, without having to know the exact changes
					that were made.</p>
				<p>
					To use generate SchemaCrawler diagrams, for install
					<a href="http://www.graphviz.org/">Graphviz</a>
					.
					Then you can run SchemaCrawler with the correct command-line
					options -
					for example,
					<code>-command graph -outputformat png -outputfile=graph.png</code>
					See the diagram example in the
					<a
						href="https://sourceforge.net/projects/schemacrawler/files/SchemaCrawler%20Examples/">
						SchemaCrawler examples
					</a>
					download.
					An example of a SchemaCrawler database diagram is below.
				</p>
				<p>
					You can provide additional GraphViz command-line options using
					the
					<code>SC_GRAPHVIZ_OPTS</code>
					environmental variable, or pass in
					the
					additional arguments using the
					<code>SC_GRAPHVIZ_OPTS</code>
					Java
					system
					property. SchemaCrawler does not set the dpi, or
					resolution of
					generated graphs. A useful
					GraphViz command-line option
					to set is
					<code>-Gdpi=300</code>
					.
				</p>
				<p>
					You can decide whether foreign-key names, column ordinal numbers,
					and schema names are displayed by setting
					the following properties
					in the SchemaCrawler configuration file,
					<span class="code">schemacrawler.config.properties</span>
					.
					<source><![CDATA[
schemacrawler.format.show_ordinal_numbers=true        
schemacrawler.format.hide_foreignkey_names=true
schemacrawler.format.show_unqualified_names=true
]]></source>
				</p>
				<p>
					For more details, see the diagram example in the
					<a
						href="https://sourceforge.net/projects/schemacrawler/files/SchemaCrawler%20Examples/">SchemaCrawler examples</a>
					download.
				</p>
				<p>
					<a href="images/diagram.png" rel="lightbox" title="SchemaCrawler database diagram">
						<img src="images/diagram.png" width="200" />
					</a>
				</p>
			</subsection>
			<subsection name="Database Diagram Options">
				<p>SchemaCrawler offers several options to change what you see on
					the database diagram. Here are a few variations:
				</p>
				<table>
					<tr>
						<td>
							<p>
								Suppress schema names and foreign key names, using the
								<code>-portablenames</code>
								command line option.
							</p>
							<a href="images/diagram_2_portablenames.png" rel="lightbox"
								title="SchemaCrawler database diagram">
								<img src="images/diagram_2_portablenames.png" width="200" />
							</a>
						</td>
						<td>
							<p>
								Show significant columns, such as primary and foreign key columns, 
                                and columns that are part of unique indexes. Use the
                                <code>-infolevel=standard -command=brief</code>
                                command line option.
							</p>
							<a href="images/diagram_3_important_columns.png" rel="lightbox"
								title="SchemaCrawler database diagram">
								<img src="images/diagram_3_important_columns.png" width="200" />
							</a>
						</td>
					</tr>
					<tr>
                        <td>
                            <p>
                                Show column ordinals, by setting configuration option
                                <code>schemacrawler.format.show_ordinal_numbers=true</code>
                                in the configuration file.
                            </p>
                            <a href="images/diagram_4_ordinals.png" rel="lightbox"
                                title="SchemaCrawler database diagram">
                                <img src="images/diagram_4_ordinals.png" width="200" />
                            </a>
                        </td>
						<td>
							<p>
								Display columns in alphabetical order, using the
								<code>-sortcolumns</code>
								command line option.
							</p>
							<a href="images/diagram_5_alphabetical.png" rel="lightbox"
								title="SchemaCrawler database diagram">
								<img src="images/diagram_5_alphabetical.png" width="200" />
							</a>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<p>
								Grep for columns, and also display outgoing relationships, using
								<code>-grepcolumns=.*\\.BOOKS\\..*\\.ID</code>
								as a command line option.
							</p>
							<a href="images/diagram_6_grep.png" rel="lightbox"
								title="SchemaCrawler database diagram">
								<img src="images/diagram_6_grep.png" width="200" />
							</a>
						</td>
						<td>
							<p>
								Grep for columns, but only show matching tables, using
								<code>-grepcolumns=.*\\.BOOKS\\..*\\.ID</code>
								and
								<code>-only-matching</code>
								as command line options.
							</p>
							<a href="images/diagram_7_grep_onlymatching.png" rel="lightbox"
								title="SchemaCrawler database diagram">
								<img src="images/diagram_7_grep_onlymatching.png" width="200" />
							</a>
						</td>
					</tr>
				</table>
			</subsection>
			<subsection name="SchemaCrawler Diagrams in Use">
				<p>
					Schemacrawler database diagrams in use at the Scrum meeting at
					the Software Development Departement of <a href="http://www.noumea.nc/">La Ville de Noum√©a</a>.
					Photograph courtesy of Adrien Sales. 
				</p>
				<a href="images/SchemaCrawler_Noumea.jpg" rel="lightbox"
					title="Schemacrawler database diagrams in use">
					<img src="images/SchemaCrawler_Noumea.jpg" width="200" />
				</a>
			</subsection>
		</section>
	</body>
</document>
